# 嵌入服务配置文件
# 用于图片管理系统的向量嵌入服务
# GPU 服务器 IP: 192.168.0.100

services:
  # === SigLIP2 图片嵌入（远程 GPU 服务器） ===
  siglip2_local:
    model_name: siglip2-so400m-patch16-512
    model_version: "1.0"
    service_type: remote
    endpoint: http://192.168.0.100:6010
    dimension: 1152
    priority: 1
    timeout: 60
    is_enabled: true

  # === Qwen3-4B 文本嵌入（远程 GPU 服务器，高精度） ===
  qwen3_embed_local:
    model_name: Qwen3-4B
    model_version: "1.0"
    service_type: remote
    endpoint: http://192.168.0.100:6011
    dimension: 2560
    priority: 1
    timeout: 30
    is_enabled: true

  # === BGE 文本嵌入（远程 GPU 服务器，轻量） ===
  bge_local:
    model_name: bge-large-zh
    model_version: "1.0"
    service_type: remote
    endpoint: http://192.168.0.100:6012
    dimension: 1024
    priority: 2
    timeout: 30
    is_enabled: true

# 索引与模型的绑定关系
indexes:
  siglip2_image_v1:
    model_name: siglip2-so400m-patch16-512
    model_version: "1.0"
    dimension: 1152
    description: 图片视觉嵌入索引

  qwen3_text_v1:
    model_name: Qwen3-4B
    model_version: "1.0"
    dimension: 2560
    description: 文本描述嵌入索引（高精度）

  bge_text_v1:
    model_name: bge-large-zh
    model_version: "1.0"
    dimension: 1024
    description: 文本描述嵌入索引（轻量）

# 默认服务映射
defaults:
  image_embedding: siglip2_local
  text_embedding: bge_local  # BGE 专为检索设计，效果更好

# VLM 图片描述生成服务（支持多个）
vlm_services:
  # Qwen3-VL-8B 服务
  qwen3vl:
    name: "Qwen3-VL-8B"
    endpoint: http://localhost:6050
    timeout: 60
    is_enabled: true
    description: "通义千问 VL 8B 视觉语言模型"
  
  # 可以添加更多 VLM 服务
  # gemini:
  #   name: "Gemini Pro Vision"
  #   endpoint: http://localhost:6051
  #   timeout: 60
  #   is_enabled: false
  #   description: "Google Gemini 视觉模型"

# VLM 全局配置
vlm:
  # 默认使用的 VLM 服务
  default_service: qwen3vl
  # 提示词模板
  prompts:
    default: "请详细描述这张图片的内容，包括主要物体、场景、颜色、风格等特征。"
    short: "用一句话简洁描述这张图片。"
    detailed: "请非常详细地描述这张图片，包括：1)主要物体及其位置关系 2)场景和背景 3)颜色和光线 4)风格和氛围 5)任何文字或标识。"
    tags: "请为这张图片生成10-20个描述性标签，用逗号分隔。"
    objects: "列出这张图片中所有可识别的物体，用逗号分隔。"
  default_prompt: default

